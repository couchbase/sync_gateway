# Copyright 2022-Present Couchbase, Inc.
#
# Use of this software is governed by the Business Source License included
# in the file licenses/BSL-Couchbase.txt.  As of the Change Date specified
# in that file, in accordance with the Business Source License, use of this
# software will be governed by the Apache License, Version 2.0, included in
# the file licenses/APL2.txt.
parameters:
  - $ref: ../../components/parameters.yaml#/db
  - $ref: ../../components/parameters.yaml#/user-name
get:
  summary: Get all channels for a user
  description: |-
    Retrieve all user channels split by how they were assigned to the user and by keyspace. The Entries field shows the grant periods, each grant period contains the sequence the channel was assigned and
    the sequence the channel was lost. If it was never lost, the end sequence will be 0.

    Required Sync Gateway RBAC roles:

    * Sync Gateway Application Read Only
  responses:
    '200':
      $ref: ../../components/responses.yaml#/GetAllUserChannels
      content:
        application/json:
          schema:
            $ref: ../../components/schemas.yaml#/AllUserChannels
    '404':
      $ref: ../../components/responses.yaml#/Not-found
  tags:
    - Database Security
  operationId: get_db-_user-name-_all_channels
